Jx().$package(function(g){(g.ui||(g.ui={})).range={build:function(a){if("static"===g.dom.getStyle(a,"position"))a.style.cssText+=";position:relative;left:auto;top:auto;right:auto;bottom:auto;visibility:hidden;";var i=document.createElement("div");i.style.cssText="overflow:hidden;position:absolute;left:"+a.offsetLeft+"px;top:"+a.offsetTop+"px;width:"+a.offsetWidth+"px;height:"+a.offsetHeight+"px;";var m=document.createElement("div");m.style.cssText="height:2px;border:1px solid #666;background:#ccc;overflow:hidden;margin-top:"+
(a.offsetHeight/2-2)+"px;";i.appendChild(m);var j=document.createElement("button");j.style.cssText="width:12px;height:16px;position:absolute;left:5px;top:50%;margin-top:-8px;padding:0;";i.appendChild(j);a.parentNode.appendChild(i);var f=Number(a.getAttribute("max")),c=Number(a.getAttribute("min")),h=a.getAttribute("step"),d=a.value,k=i.clientWidth-j.offsetWidth,p=j.offsetWidth/2;isFinite(c)||(c=0);if(!isFinite(f)||f<=c)f=c+1;if(!isFinite(h)||h<0)h=0;if(!isFinite(d)||d<c)d=c;else if(d>f)d=f;var l=
function(b){j.style.left=k*(b-c)/(f-c)+"px"};g.event.on(i,"click",function(b){if(b.target!==j){b=b.layerX-p;b=b<=0?c:b>=k?f:h?c+Math.round((f-c)*b/k/h)*h:c+(f-c)*b/k;if(b!==d){l(b);a.value=d=b;if(a.fireEvent)a.fireEvent("onchange");else if(a.dispatchEvent){b=document.createEvent("Event");b.initEvent("change",false,true);a.dispatchEvent(b)}}}});g.event.on(j,"mousedown",function(b){var q=b.screenX,r=parseInt(j.style.left,10),n=function(e){e=r+e.screenX-q;e=e<=0?c:e>=k?f:h?c+Math.round((f-c)*e/k/h)*
h:c+(f-c)*e/k;if(e!==d){l(e);a.value=d=e;if(a.fireEvent)a.fireEvent("onchange");else if(a.dispatchEvent){e=document.createEvent("Event");e.initEvent("change",false,true);a.dispatchEvent(e)}}},o=function(){g.event.off(document,"mousemove",n);g.event.off(document,"mouseup",o)};g.event.on(document,"mousemove",n);g.event.on(document,"mouseup",o)});i=function(b){if(b.propertyName==="value"&&a.value!=d){d=a.value;l(d)}};if(a.__defineSetter__){a.__defineSetter__("value",function(b){if(b!=d){d=b;l(d)}});
a.__defineGetter__("value",function(){return d})}else"onpropertychange"in a&&a.attachEvent("onpropertychange",i);l(a.value)}}});
